{"version":3,"sources":["salad.js"],"names":["showDebugMessages","shipImage","bgImage","circeRounded","windowWidth","innerWidth","windowHeight","innerHeight","zapSound","nutrSound","bactSound","beamSound","firingRate","nutrGroup","bactGroup","lazers","nutriCount","ship","shipX","shipY","newBac","barWidth","explosionStart","char1","currentNutrients","producedGoods","playerScore","time","curNutX","curNutY","goodsX","goodsY","preload","sqTexture","loadImage","loadFont","Group","lazersGroup","setup","myCanvas","createCanvas","parent","background","Ship","pX","getRnd","pY","score","createSprite","scale","addAnimation","changeAnimation","loadSound","console","log","draw","parseInt","frameCount","ship_position","length","generateBactSprite","add","generateNutrSprite","bacNutrOverlap","updateBacteria","updateNutrients","fill","textFont","textAlign","CENTER","textSize","text","spr","removeSprites","drawSprites","noStroke","map","rect","min","max","Math","floor","random","serverConnected","print","x","y","tp","animationDelay","z","i","update","splice","j","distance","sqrt","pow","position","getAnimationLabel","life","play","t","velocity","frameDelay","p","overlap","sprite","remove"],"mappings":"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","file":"salad.7e24cca4.js","sourceRoot":"../src","sourcesContent":["//debugging\nvar showDebugMessages = false;\n\n//media\nlet shipImage, bgImage;\nlet circeRounded;\nlet windowWidth = innerWidth,\n  windowHeight = innerHeight;\nlet zapSound, nutrSound, bactSound, beamSound;\n\n//ship, nutrients and bacterias\nvar firingRate = 25; //  <--- tells you how often you can shoot a lazer\nvar nutrGroup, bactGroup;\nvar lazers = [];\nlet nutriCount = 5;\nlet ship, shipX, shipY;\nlet newBac;\nlet barWidth = 90;\nlet explosionStart = -1;\nlet char1;\nlet currentNutrients, producedGoods;\n\n//score and time\nlet playerScore, time;\nlet curNutX = innerWidth*0.47;\nlet curNutY = innerHeight*0.935;\n\nlet goodsX = innerWidth*0.65;\nlet goodsY = innerHeight*0.935;\n\n//data\n/*let serial;\nlet latestData = \"waiting for data\";  // you'll use this to write incoming data to the canvas\nvar portName = '/dev/tty.usbmodem14201';\nlet cur = 0, prev = 0;\nlet sensor_data = '';*/\n\n\nfunction preload() {\n  //cirTexture = loadImage(\"../assets/1.png\");\n  sqTexture = loadImage(\"../assets/tr1.png\");\n  bgImage = loadImage(\"../assets/backgroundGood.jpg\");\n  shipImage = loadImage(\"../assets/char2.png\");\n  shipX = windowWidth * 0.4;\n  shipY = windowHeight * 0.758;\n  playerScore = 0;\n  circeRounded = loadFont('../fonts/CirceRounded.otf');\n  nutrGroup = new Group();\n  bactGroup = new Group();\n  lazersGroup = new Group();\n  currentNutrients = new Group();\n  producedGoods = new Group();\n}\n\nfunction setup() {\n\n  let myCanvas = createCanvas(windowWidth, windowHeight);\n  myCanvas.parent(\"myCanvas\");\n  background(bgImage);\n  ship = new Ship(shipImage, shipX, shipY);\n  pX = getRnd(0, 1100);\n  pY = getRnd(0, 200);\n  score = 0;\n  char1 = createSprite(innerWidth*0.055, innerHeight*0.713);\n  char1.scale=0.6;\n  char1.addAnimation('char1-normal', \"../assets/char1.png\");\n  char1.changeAnimation('char1-normal');\n\n  //data\n  /*serial = new p5.SerialPort();\n  serial.list();\n  serial.open(portName);\n  serial.on('connected', serverConnected);\n  serial.on('list', gotList);\n  serial.on('data', gotData);\n  serial.on('error', gotError);\n  serial.on('open', gotOpen);\n  serial.on('close', gotClose);*/\n  //newBac = generateBactSprite();\n  zapSound = loadSound('../sounds/shoot.mp3');\n  nutrSound = loadSound('../sounds/hit.mp3');\n  bactSound = loadSound('../sounds/explosion.mp3');\n  beamSound = loadSound('../sounds/pick.mp3');\n  console.log(zapSound);\n}\n\nfunction draw() {\n  background(bgImage);\n  time = parseInt(frameCount / 60);\n\n  //let ship_position = parseFloat(sensor_data);\n  ship_position = 1;\n  if(ship_position){\n    ship.draw(ship_position);\n  } else {\n    ship.draw(0);\n  }\n\n  if (time % 10 == 0){\n    if (bactGroup.length < 2) {\n      newBac = generateBactSprite();\n      bactGroup.add(newBac);\n    }\n  }\n\n  if (nutrGroup.length < 3 && nutriCount < 200) {\n    nutrGroup.add(generateNutrSprite());\n    nutriCount++;\n    //barWidth+=1;\n  }\n  bacNutrOverlap();\n  updateBacteria();\n  updateNutrients();\n  fill(224, 75, 55);\n  textFont(circeRounded);\n  textAlign(CENTER);\n  textSize(50);\n  text(playerScore, innerWidth*0.942, innerHeight*0.95);\n\n  if (currentNutrients.length == 3){\n    let spr = createSprite(goodsX, goodsY);\n    spr.addAnimation('normal', \"../assets/bacteria.png\");\n    spr.scale = 0.6;\n    producedGoods.add(spr);\n    currentNutrients.removeSprites();\n    goodsX+=50;\n    curNutX = innerWidth*0.47\n    playerScore++;\n  }\n  drawSprites(nutrGroup, bactGroup, currentNutrients, producedGoods);\n  fill(56, 64, 143);\n  noStroke();\n  barWidth = 90-map(nutriCount, 0, 200, 0, 90);\n  rect(innerWidth*0.025, innerHeight*0.183,barWidth, 25);\n}\n\n\n\nfunction getRnd(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n\nfunction serverConnected() {\n  print(\"Connected to Server\");\n}\n\n//Bad guys There\nfunction generateBactSprite(){\n  let x = getRnd(innerWidth*0.17, innerWidth-innerWidth*0.18);\n  let y = getRnd(100, 500);\n  let spr = createSprite(x, y);\n  spr.scale = 0.7;\n  let tp = getRnd(0,2);\n  if (tp == 0){\n    spr.addAnimation ('t1-normal',\n          \"../assets/bb-07.svg\");\n    spr.addAnimation ('t1-explosion',\n    \"../assets/bb1/bb1-1.png\", \"../assets/bb1/bb1-2.png\", \"../assets/bb1/bb1-3.png\",\n    \"../assets/bb1/bb1-4.png\", \"../assets/bb1/bb1-5.png\", \"../assets/bb1/bb1-6.png\",\n    \"../assets/bb1/bb1-7.png\", \"../assets/bb1/bb1-8.png\", \"../assets/bb1/bb1-9.png\",\n    \"../assets/bb1/bb1-10.png\", \"../assets/bb1/bb1-11.png\", \"../assets/bb1/bb1-12.png\");\n    spr.animationDelay = 0;\n  }\n  if (tp == 1){\n    spr.addAnimation ('t2-normal',\n          \"../assets/bb-08.svg\");\n    spr.addAnimation ('t2-explosion',\n    \"../assets/bb2/bb2-1.png\", \"../assets/bb2/bb2-2.png\", \"../assets/bb2/bb2-3.png\",\n    \"../assets/bb2/bb2-4.png\", \"../assets/bb2/bb2-5.png\", \"../assets/bb2/bb2-6.png\",\n    \"../assets/bb2/bb2-7.png\", \"../assets/bb2/bb2-8.png\", \"../assets/bb2/bb2-9.png\",\n    \"../assets/bb2/bb2-10.png\", \"../assets/bb2/bb2-11.png\", \"../assets/bb2/bb2-12.png\");\n    spr.animationDelay = 0;\n  }\n\n  if (tp == 2){\n    spr.addAnimation ('t3-normal',\n          \"../assets/bb-09.svg\");\n    spr.addAnimation ('t3-explosion',\n    \"../assets/bb3/bb3-1.png\", \"../assets/bb3/bb3-2.png\", \"../assets/bb3/bb3-3.png\",\n    \"../assets/bb3/bb3-4.png\", \"../assets/bb3/bb3-5.png\", \"../assets/bb3/bb3-6.png\",\n    \"../assets/bb3/bb3-7.png\", \"../assets/bb3/bb3-8.png\", \"../assets/bb3/bb3-9.png\",\n    \"../assets/bb3/bb3-10.png\", \"../assets/bb3/bb3-11.png\", \"../assets/bb3/bb3-12.png\");\n    spr.animationDelay = 0;\n  }\n  return spr;\n}\n\n\nfunction updateBacteria(){\n  var z = -1;\n  for (let i = lazers.length - 1; i >= 0; i--) {\n    lazers[i].draw();\n    if (!lazers[i].update()) {\n      lazers.splice(i, 1);\n      if (showDebugMessages) {\n        console.log(\"Lazer #\" + i + \" left the screen!\");\n      }\n    } else {\n        for (let j = bactGroup.length - 1; j >= 0; j--)\n        {\n\n          let distance = sqrt(pow(lazers[i].x-25 - bactGroup[j].position.x, 2) + pow(lazers[i].y - bactGroup[j].position.y, 2));\n          if (distance <= 40)\n          {\n            lazers.splice(i, 1);\n            if (bactGroup[j].getAnimationLabel() == 't1-normal'){\n              bactGroup[j].changeAnimation('t1-explosion');\n            }\n            if (bactGroup[j].getAnimationLabel() == 't2-normal'){\n              bactGroup[j].changeAnimation('t2-explosion');\n            }\n            if (bactGroup[j].getAnimationLabel() == 't3-normal'){\n              bactGroup[j].changeAnimation('t3-explosion');\n            }\n            explosionStart = 9;\n            bactGroup[j].animationDelay = 0;\n            console.log(bactGroup[j].animationDelay);\n            bactGroup[j].life = 30;\n            bactSound.play();\n            break;\n          }\n        }\n      }\n  }\n\n}\n\n// Nutrients here\nfunction generateNutrSprite(t){\n  let x = getRnd(innerWidth*0.17, innerWidth-innerWidth*0.18);\n  let y = getRnd(0, 50);\n  let spr = createSprite(x, y);\n  spr.velocity.y = getRnd(1, 2);\n  t = getRnd(0,1);\n  if (t == 0){\n    spr.addAnimation ('circle',\n          \"../assets/circle/circle.png\"\n    );\n    spr.addAnimation ('circle-explosion',\n          \"../assets/circle/circle-1.png\", \"../assets/circle/circle-2.png\", \"../assets/circle/circle-3.png\",\n          \"../assets/circle/circle-4.png\", \"../assets/circle/circle-5.png\", \"../assets/circle/circle-6.png\",\n          \"../assets/circle/circle-7.png\", \"../assets/circle/circle-8.png\", \"../assets/circle/circle-9.png\",\n          \"../assets/circle/circle-10.png\", \"../assets/circle/circle-11.png\", \"../assets/circle/circle-12.png\",\n    );\n    spr.changeAnimation('circle');\n    spr.frameDelay = 0;\n  } else {\n    spr.addAnimation ('triangle',\n          \"../assets/triangle/triangle.png\"\n    );\n    spr.addAnimation ('triangle-explosion',\n          \"../assets/triangle/triangle-1.png\", \"../assets/triangle/triangle-2.png\", \"../assets/triangle/triangle-3.png\",\n          \"../assets/triangle/triangle-4.png\", \"../assets/triangle/triangle-5.png\", \"../assets/triangle/triangle-6.png\",\n          \"../assets/triangle/triangle-7.png\", \"../assets/triangle/triangle-8.png\", \"../assets/triangle/triangle-9.png\",\n          \"../assets/triangle/triangle-10.png\", \"../assets/triangle/triangle-11.png\", \"../assets/triangle/triangle-12.png\",\n    );\n    spr.changeAnimation('triangle');\n    spr.scale=0.7;\n    spr.frameDelay = 0;\n  }\n  return spr;\n}\n\nfunction updateNutrients(){\n  for (let p = nutrGroup.length - 1; p >= 0; p--)\n  {\n    if (nutrGroup[p].overlap(ship.sprite)){\n      if (ship.sprite.getAnimationLabel() == 'beamC' && nutrGroup[p].getAnimationLabel() == 'circle') {\n        nutrGroup[p].changeAnimation('circle-explosion');\n        nutrGroup[p].life = 30;\n        //barWidth+=5;\n        let spr = createSprite(curNutX, curNutY);\n        spr.addAnimation('normal', \"../assets/circle/circle.png\");\n        currentNutrients.add(spr);\n        curNutX+=60;\n      }\n\n      if (ship.sprite.getAnimationLabel() == 'beamTr' && nutrGroup[p].getAnimationLabel() == 'triangle') {\n        nutrGroup[p].changeAnimation('triangle-explosion');\n        nutrGroup[p].life = 30;\n        //barWidth+=5;\n        let spr = createSprite(curNutX, curNutY);\n        spr.addAnimation('normal', \"../assets/triangle/triangle.png\");\n        currentNutrients.add(spr);\n        curNutX+=60;\n      }\n\n    }\n    if (nutrGroup[p].position.y > innerHeight*0.8){\n      nutrGroup[p].life = 0;\n    }\n  }\n}\n\nfunction bacNutrOverlap(){\n    for (let j = nutrGroup.length - 1; j>=0; j--){\n      for (let i = bactGroup.length - 1; i >= 0; i--){\n          if (nutrGroup[j].overlap(bactGroup[i])){\n            bactGroup[i].scale += 0.1;\n            nutrGroup[j].remove();\n            break;\n          }\n    }\n}\n}\n\n\n\n\n// Got the list of ports\n/*function gotList(thelist) {\n  print(\"List of Serial Ports:\");\n  // theList is an array of their names\n  for (let i = 0; i < thelist.length; i++) {\n    // Display in the console\n    print(i + \" \" + thelist[i]);\n  }\n}\n\n// Connected to our serial device\nfunction gotOpen() {\n  print(\"Serial Port is Open\");\n}\n\nfunction gotClose(){\n    print(\"Serial Port is Closed\");\n    latestData = \"Serial Port is Closed\";\n}\n\n// Ut oh, here is an error, let's log it\nfunction gotError(theerror) {\n  print(theerror);\n}\n\n// There is data available to work with from the serial port\nfunction gotData() {\n  let latestData = serial.readString().trim();  // read the incoming string\n  if( latestData !== '') {\n    sensor_data = sensor_data.concat(latestData);\n  } else {\n    sensor_data = '';\n  }\n}*/\n"]}